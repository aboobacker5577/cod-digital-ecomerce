"use strict";(self.webpackChunkCARDS_RECHARGE=self.webpackChunkCARDS_RECHARGE||[]).push([[161],{1161:(I,u,l)=>{l.r(u),l.d(u,{CategoryModule:()=>O});var g=l(6814),d=l(7553),s=l(95),e=l(6689),m=l(9692),_=l(5570),f=l(8596),h=l(8448);function Z(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"a",66),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,n=e.oxw();return e.KtG(n.getCategoryForUpdate(i))}),e._UZ(1,"i",67),e.qZA()}}function T(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"a",68),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,n=e.oxw();return e.KtG(n.deleteCategory(i))}),e._UZ(1,"i",69),e.qZA()}}const v=function(){return["/product"]},y=function(){return["/category"]},C=function(o){return{category_id:o}},b=function(o){return{parent_id:o}};function A(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"a",60),e._UZ(5,"img",61),e._uU(6),e.qZA()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"input",62),e.NdJ("click",function(){const n=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.changeStatus(n))}),e.qZA(),e.TgZ(11,"label",63),e.NdJ("label",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.activeText)}),e.qZA()(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"date"),e.qZA(),e.TgZ(15,"td"),e.YNc(16,Z,2,0,"a",64),e.YNc(17,T,2,0,"a",65),e.qZA()()}if(2&o){const t=r.$implicit,a=r.index,i=e.oxw();e.xp6(2),e.Oqu(a+1),e.xp6(2),e.Q6J("routerLink",0==t.categories_count?e.DdM(15,v):e.DdM(16,y))("queryParams",0==t.categories_count?e.VKq(17,C,t.id):e.VKq(19,b,t.id)),e.xp6(1),e.s9C("src",i.imgUrl+"/"+t.image,e.LSH),e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.Oqu(t.parent?t.parent.name:"Main"),e.xp6(2),e.MGl("id","switch",a,""),e.Q6J("checked","active"==t.status),e.xp6(1),e.MGl("for","switch",a,""),e.xp6(2),e.Oqu(e.xi3(14,12,t.created_at,"dd/MM/yyyy")),e.xp6(3),e.Q6J("ngIf",i.permission.includes("category_edit")),e.xp6(1),e.Q6J("ngIf",i.permission.includes("category_delete"))}}function U(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"app-pagination",70),e.NdJ("goTo",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.onGoTo(i))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("pageNumber",t.pageNumber)("pageSize",t.pageSize)("total",t.totalCount)}}function q(o,r){1&o&&(e.TgZ(0,"div",16),e._uU(1," this input field is not valid "),e.qZA())}function S(o,r){if(1&o&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function x(o,r){1&o&&(e.TgZ(0,"div",16),e._uU(1," this input field is not valid "),e.qZA())}const M=function(){return["/dashboard"]},p=function(o){return{"is-invalid":o}},J=[{path:"",component:(()=>{class o{constructor(t,a,i,n,c){this.AUTH=t,this.API=a,this.TOASTER=i,this.activeRoute=n,this.fb=c,this.activeText="ON",this.pageNumber=1,this.pageSize=50,this.totalCount=0,this.loadPagination=!1,this.parentId=null,this.imgUrl=null,this.submit=!1,this.initCategoryForm(),this.AUTH.permission.subscribe(P=>{this.permission=P})}ngOnInit(){this.activeRoute.queryParams.subscribe(t=>{this.parentId=t&&t.parent_id?t.parent_id:"",this.pageLoad()})}pageLoad(){this.clearCategory(),this.imgUrl=this.API.GET_IMG_URL(),this.listApplication()}listApplication(){this.API.GET("/category",{parent_id:this.parentId,page:this.pageNumber,per_page:this.pageSize}).subscribe(t=>{t.success?(this.categoryArray=t.data.categories,this.totalCount=t.data.categories.total?t.data.categories.total:0,this.loadPagination=!0):this.TOASTER.Error("x",t.message)})}onGoTo(t){this.pageNumber=t,this.listApplication()}changePageSize(){this.loadPagination=!1,this.pageNumber=1,this.listApplication()}initCategoryForm(){this.frmCategory=this.fb.group({name:["",s.kI.required],parent_id:[null]})}get f(){return this.frmCategory.controls}onsubmit(t){if(this.submit=!0,this.frmCategory.invalid)return;const a=new FormData;a.append("name",t.name),a.append("parent_id",t.parent_id?t.parent_id:""),a.append("image",this.image),a.append("status",this.category.status),this.category.id?(a.append("_method","PUT"),this.API.POST(`/category/${this.category.id}`,a).subscribe(i=>{i.success?(this.TOASTER.Success("x",i.message?i.message:"Operation successfully created"),this.pageLoad(),document.getElementById("btnMdlCategoryClose")?.click()):this.TOASTER.Error("x",i.message?i.message:"Ooops somthing went wrong please try after some time")})):this.API.POST("/category",a).subscribe(i=>{i.success?(this.TOASTER.Success("x",i.message?i.message:"Operation successfully created"),this.pageLoad(),document.getElementById("btnMdlCategoryClose")?.click()):this.TOASTER.Error("x",i.message?i.message:"Ooops somthing went wrong please try after some time")}),this.image=""}onImageSelected(t){this.image=t.target.files[0]}clearCategory(){this.image="",this.category={id:null,name:null,parent_id:null,status:"active"}}changeStatus(t){t.status="active"==t.status?"inactive":"active",delete t.image,this.API.PUT(`/category/${t.id}`,t).subscribe(a=>{a.success?(this.TOASTER.Success("X",a.message?a.message:"Status Successfully Saved"),this.pageLoad()):this.TOASTER.Error("X",a.message?a.message:"Ooops Please try after some time please try after some time")})}getCategoryForUpdate(t){this.category=t}deleteCategory(t){this.API.POST(`/category/${t.id}`,{_method:"DELETE"}).subscribe(a=>{a.success?(this.TOASTER.Success("X",a.message?a.message:"Status Successfully Deleted"),this.pageLoad()):this.TOASTER.Error("X",a.message?a.message:"Ooops Please try after some time please try after some time")})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.e),e.Y36(_.M),e.Y36(f.M),e.Y36(d.gz),e.Y36(s.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-category"]],decls:147,vars:23,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"toplogo"],[1,"ti-layout",2,"font-size","35px"],[1,"firstline"],[1,"nextline"],[3,"routerLink"],[1,"subline"],["data-bs-toggle","modal","data-bs-target","#formModel",1,"btn","btn-outline-success","waves-effect","waves-light","floating-new-button",3,"click"],[1,"ti-plus"],[1,"border","p-4","mb-4"],[1,"col-md-2"],["for","validationCustom03",1,"form-label"],["type","text","id","validationCustom03","placeholder","Trans Id","required","",1,"form-control"],[1,"invalid-feedback"],["type","text","id","validationCustom03","placeholder","Number","required","",1,"form-control"],["type","text","id","validationCustom03","placeholder","2023/06/02","required","",1,"form-control"],[1,"col-md-12","form-control"],["value","10"],["value","50"],["value","100"],[1,"col-md-1"],["for","validationCustom03",1,"form-label","hide"],["type","button","value","Search",1,"btn","btn-info"],[1,"col-md-2","pb-3"],[1,"form-control",3,"ngModel","change","ngModelChange"],[3,"value"],[1,"col-md-8","pb-3"],["type","text","placeholder","Search",1,"form-control"],[1,"table-rep-plugin"],[1,"table-wrapper"],["data-pattern","priority-columns",1,"table-responsive","mb-0","fixed-solution"],["id","tech-companies-1",1,"table","table-striped"],[2,"width","100px"],[4,"ngFor","ngForOf"],[3,"pageNumber","pageSize","total","goTo",4,"ngIf"],["id","formModel","tabindex","-1","role","dialog","aria-labelledby","exampleModalScrollableTitle","aria-hidden","true","data-bs-backdrop","static","data-mdb-keyboard","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-scrollable"],[3,"formGroup","ngSubmit"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalScrollableTitle",1,"modal-title","mt-0"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","btnMdlCategoryClose",1,"btn-close"],[1,"modal-body"],[1,"col-md-6"],[1,"mb-3"],["for","validationCustom02",1,"form-label"],["type","text","id","validationCustom02","placeholder","Category Name","formControlName","name",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[1,"valid-feedback"],["class","invalid-feedback",4,"ngIf"],["id","validationCustom02","placeholder","Parent Id","formControlName","parent_id",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","secondimg"],["width","90","height","90",2,"cursor","pointer",3,"src"],["type","file","name","","id","secondimg",2,"display","none","visibility","none",3,"change"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-light","waves-effect"],["type","submit",1,"btn","btn-primary","waves-effect","waves-light"],[3,"routerLink","queryParams"],["alt","",1,"rounded-circle","avatar-sm",3,"src"],["type","checkbox","switch","success",3,"id","checked","click"],["data-off-label","OFF",3,"for","label"],["type","button","class","btn btn-outline-primary waves-effect waves-light","style","margin-right: 3px;","data-bs-toggle","modal","data-bs-target","#formModel",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger waves-effect waves-light",3,"click",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#formModel",1,"btn","btn-outline-primary","waves-effect","waves-light",2,"margin-right","3px",3,"click"],[1,"ti-pencil-alt"],["type","button",1,"btn","btn-outline-danger","waves-effect","waves-light",3,"click"],[1,"ti-trash"],[3,"pageNumber","pageSize","total","goTo"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"i",5),e.TgZ(6,"P",6)(7,"b"),e._uU(8,"CATEGORY"),e.qZA()(),e._UZ(9,"P"),e.TgZ(10,"P",7)(11,"a",8),e._uU(12,"Dashboard"),e.qZA(),e._uU(13," /"),e.TgZ(14,"span",9),e._uU(15,"Category"),e.qZA()(),e.TgZ(16,"button",10),e.NdJ("click",function(){return a.clearCategory()}),e.TgZ(17,"i",11),e._uU(18," CREATE"),e.qZA()()(),e.TgZ(19,"div",12)(20,"div",0)(21,"div",13)(22,"label",14),e._uU(23,"Trans Id/Client TranseId"),e.qZA(),e._UZ(24,"input",15),e.TgZ(25,"div",16),e._uU(26," Please provide a valid id. "),e.qZA()(),e.TgZ(27,"div",13)(28,"label",14),e._uU(29,"Number"),e.qZA(),e._UZ(30,"input",17),e.TgZ(31,"div",16),e._uU(32," Please provide a valid id. "),e.qZA()(),e.TgZ(33,"div",13)(34,"label",14),e._uU(35,"Fromdate"),e.qZA(),e._UZ(36,"input",18),e.TgZ(37,"div",16),e._uU(38," Please provide a valid id. "),e.qZA()(),e.TgZ(39,"div",13)(40,"label",14),e._uU(41,"To date"),e.qZA(),e._UZ(42,"input",18),e.TgZ(43,"div",16),e._uU(44," Please provide a valid id. "),e.qZA()(),e.TgZ(45,"div",13)(46,"label",14),e._uU(47,"Operator"),e.qZA(),e.TgZ(48,"select",19)(49,"option",20),e._uU(50,"All"),e.qZA(),e.TgZ(51,"option",21),e._uU(52,"50"),e.qZA(),e.TgZ(53,"option",22),e._uU(54,"100"),e.qZA()(),e.TgZ(55,"div",16),e._uU(56," Please provide a valid id. "),e.qZA()(),e.TgZ(57,"div",23)(58,"label",14),e._uU(59,"Status"),e.qZA(),e.TgZ(60,"select",19)(61,"option",20),e._uU(62,"All"),e.qZA(),e.TgZ(63,"option",21),e._uU(64,"50"),e.qZA(),e.TgZ(65,"option",22),e._uU(66,"100"),e.qZA()(),e.TgZ(67,"div",16),e._uU(68," Please provide a valid id. "),e.qZA()(),e.TgZ(69,"div",23)(70,"label",24),e._uU(71,"sdfg"),e.qZA(),e._UZ(72,"input",25),e.qZA()()(),e.TgZ(73,"div",0)(74,"div",26)(75,"select",27),e.NdJ("change",function(){return a.changePageSize()})("ngModelChange",function(n){return a.pageSize=n}),e.TgZ(76,"option",28),e._uU(77,"10"),e.qZA(),e.TgZ(78,"option",28),e._uU(79,"50"),e.qZA(),e.TgZ(80,"option",28),e._uU(81,"100"),e.qZA(),e.TgZ(82,"option",28),e._uU(83,"500"),e.qZA()()(),e._UZ(84,"div",29),e.TgZ(85,"div",26),e._UZ(86,"input",30),e.qZA()(),e.TgZ(87,"div",31)(88,"div",32)(89,"div",33)(90,"table",34)(91,"thead")(92,"tr")(93,"th"),e._uU(94,"SLNO"),e.qZA(),e.TgZ(95,"th"),e._uU(96,"CATEGORY"),e.qZA(),e.TgZ(97,"th"),e._uU(98,"PARENT"),e.qZA(),e.TgZ(99,"th"),e._uU(100,"STATUS"),e.qZA(),e.TgZ(101,"th"),e._uU(102,"CREATED ON"),e.qZA(),e.TgZ(103,"th",35),e._uU(104,"ACTION"),e.qZA()()(),e.TgZ(105,"tbody"),e.YNc(106,A,18,21,"tr",36),e.qZA()()(),e.YNc(107,U,1,3,"app-pagination",37),e.qZA()()()()()(),e.TgZ(108,"div",38)(109,"div",39)(110,"form",40),e.NdJ("ngSubmit",function(){return a.onsubmit(a.frmCategory.value)}),e.TgZ(111,"div",41)(112,"div",42)(113,"h5",43),e._uU(114," Manage Category"),e.qZA(),e._UZ(115,"button",44),e.qZA(),e.TgZ(116,"div",45)(117,"div",0)(118,"div",46)(119,"div",47)(120,"label",48),e._uU(121,"Category Name"),e.qZA(),e.TgZ(122,"input",49),e.NdJ("ngModelChange",function(n){return a.category.name=n}),e.qZA(),e.TgZ(123,"div",50),e.YNc(124,q,2,0,"div",51),e.qZA()()(),e.TgZ(125,"div",46)(126,"div",47)(127,"label",48),e._uU(128,"Parent Id"),e.qZA(),e.TgZ(129,"select",52),e.NdJ("ngModelChange",function(n){return a.category.parent_id=n}),e.TgZ(130,"option",28),e._uU(131,"No Parent"),e.qZA(),e.YNc(132,S,2,2,"option",53),e.qZA(),e.TgZ(133,"div",50),e.YNc(134,x,2,0,"div",51),e.qZA()()(),e.TgZ(135,"div",46)(136,"label",54)(137,"div")(138,"span"),e._uU(139,"Image"),e.qZA()(),e._UZ(140,"img",55),e.qZA(),e.TgZ(141,"input",56),e.NdJ("change",function(n){return a.onImageSelected(n)}),e.qZA()()()(),e.TgZ(142,"div",57)(143,"button",58),e._uU(144,"Close"),e.qZA(),e.TgZ(145,"button",59),e._uU(146,"Save changes"),e.qZA()()()()()()),2&t&&(e.xp6(11),e.Q6J("routerLink",e.DdM(18,M)),e.xp6(64),e.Q6J("ngModel",a.pageSize),e.xp6(1),e.Q6J("value",10),e.xp6(2),e.Q6J("value",50),e.xp6(2),e.Q6J("value",100),e.xp6(2),e.Q6J("value",500),e.xp6(24),e.Q6J("ngForOf",a.categoryArray),e.xp6(1),e.Q6J("ngIf",a.loadPagination),e.xp6(3),e.Q6J("formGroup",a.frmCategory),e.xp6(12),e.Q6J("ngClass",e.VKq(19,p,a.submit&&a.f.name.errors))("ngModel",a.category.name),e.xp6(2),e.Q6J("ngIf",a.submit&&a.f.name.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(21,p,a.submit&&a.f.parent_id.errors))("ngModel",a.category.parent_id),e.xp6(1),e.Q6J("value",null),e.xp6(2),e.Q6J("ngForOf",a.categoryArray),e.xp6(2),e.Q6J("ngIf",a.submit&&a.f.parent_id.errors),e.xp6(6),e.Q6J("src",a.imgUrl+"/"+a.category.image,e.LSH))},dependencies:[g.mk,g.sg,g.O5,d.rH,h.Q,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.sg,s.u,s.On,g.uU]}),o})()}];let N=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.Bz.forChild(J),d.Bz]}),o})();var E=l(1383);let O=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.ez,N,E.m]}),o})()}}]);